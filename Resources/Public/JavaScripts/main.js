"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){d=(new Date).getTime(),g=e.touches[0].pageX,p=e.touches[0].pageY,L=!0,s(g,p)}function t(e){if(L){h=e.touches[0].pageX,k=e.touches[0].pageY;a(e,h,k,h-g,k-p)}}function n(e){if(L){L=!1;var t=h-g,n=k-p,s=(new Date).getTime()-d;i(h,k,t,n,s)}}function s(e,t){var n=document.querySelector(".mobile-menu.menu--visible");q=null!==n,v.classList.add("no-transition"),b.classList.add("no-transition"),E=!0,_=document.querySelector(".app-menu").offsetWidth,w=e,S=t,D=q?0:-_,T="",v.classList.add("menu--background-visible")}function a(e,t,n,s,a){if(T||(T=Math.abs(s)>=Math.abs(a)?"horizontal":"vertical",requestAnimationFrame(o)),"vertical"===T)w=t,S=n;else{e.preventDefault(),D+(t-w)<0&&D+(t-w)>-_&&(D+=t-w),w=t,S=n,f.classList.add("no-transition");var i=100*Math.abs(D)/_,r=100-i,c=x*r/100;f.style.opacity!==c.toFixed(2)&&c.toFixed(1)%1!=0&&(f.style.opacity=c.toFixed(2))}}function i(e,t,n,s,a){E=!1;0===e&&0===t?q?(b.classList.remove("no-transition"),v.classList.remove("no-transition")):(v.classList.remove("menu--background-visible"),v.classList.remove("no-transition")):q?n<-_/2||Math.abs(n)/a>.3?(r(n),q=!1):(c(),q=!0):n>_/2||Math.abs(n)/a>.3?(c(),q=!0):(r(n),q=!1),v.classList.remove("no-transition"),b.classList.remove("no-transition"),f.classList.remove("no-transition"),v.classList.add("menu--animatable")}function o(){if(E){var e=document.querySelector(".app-menu-container");e.style.transform="translateX("+D+"px)",e.style.webkitTransform="translateX("+D+"px)",requestAnimationFrame(o)}}function r(e){function t(){f.style.opacity="",f.style.display="",v.classList.remove("menu--background-visible"),v.classList.remove("menu--animatable"),v.removeEventListener("transitionend",t,!1)}(e<0||!q)&&(b.style.transform="",b.style.webkitTransform="",v.classList.remove("menu--background-visible"),v.classList.remove("menu--visible"),v.addEventListener("transitionend",t,!1));var n=document.body.classList;n.contains("js_show_contentoverlay")&&n.remove("js_show_contentoverlay"),n.contains("overlay_mah")&&n.remove("overlay_mah"),n.contains("overlay_gs")&&n.remove("overlay_gs"),n.contains("overlay_both")&&n.remove("overlay_both"),n.contains("overlay")&&n.remove("overlay")}function c(){b.style.transform="",b.style.webkitTransform="",v.classList.add("menu--visible"),v.classList.add("menu--background-visible"),f.style.opacity=""}function l(){function e(){v.classList.remove("menu--background-visible"),v.classList.remove("menu--animatable"),f.style.display="",v.removeEventListener("transitionend",e)}v.addEventListener("transitionend",e,!1),v.classList.remove("menu--visible")}function u(e){e.preventDefault(),v.classList.add("menu--background-visible"),requestAnimationFrame(function(){setTimeout(function(){v.classList.add("menu--visible"),v.classList.add("menu--animatable")},1)})}var m,d,v=document.querySelector(".mobile-menu"),b=document.querySelector(".app-menu-container"),f=document.querySelector(".menu-background"),y=document.querySelectorAll(".menu-toggle"),L=!1,g=0,p=0,h=0,k=0,q=!1,E=!1,_=0,w=0,S=0,D=0,T="",x=.5,F=function(){m.addEventListener("touchstart",e,!1),m.addEventListener("touchmove",t,!1),m.addEventListener("touchend",n,!1),f.addEventListener("click",l,!1),y.forEach(function(e){e.addEventListener("click",u,!1)})};!function(e,t,n,s){m=e,d=(new Date).getTime(),F()}(document.querySelector(".app-menu-container"))}),$(function(){var e=$(".mobile-menu");$(".submenu-toggle",e).on("click",function(e){e.preventDefault(),$(this).toggleClass("open").next("ul.subnav").toggleClass("open")})});