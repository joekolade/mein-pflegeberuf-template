"use strict";document.addEventListener("DOMContentLoaded",function(){function e(e){d=(new Date).getTime(),p=e.touches[0].pageX,h=e.touches[0].pageY,f=!0,s(p,h)}function t(e){if(f){g=e.touches[0].pageX,k=e.touches[0].pageY;a(e,g,k,g-p,k-h)}}function n(e){if(f){f=!1;var t=g-p,n=k-h,s=(new Date).getTime()-d;i(g,k,t,n,s)}}function s(e,t){var n=document.querySelector(".mobile-menu.menu--visible");q=null!==n,v.classList.add("no-transition"),b.classList.add("no-transition"),E=!0,_=document.querySelector(".app-menu").offsetWidth,w=e,S=t,T=q?0:-_,D="",v.classList.add("menu--background-visible")}function a(e,t,n,s,a){if(D||(D=Math.abs(s)>=Math.abs(a)?"horizontal":"vertical",requestAnimationFrame(o)),"vertical"===D)w=t,S=n;else{e.preventDefault(),T+(t-w)<0&&T+(t-w)>-_&&(T+=t-w),w=t,S=n,y.classList.add("no-transition");var i=100*Math.abs(T)/_,r=100-i,c=F*r/100;y.style.opacity!==c.toFixed(2)&&c.toFixed(1)%1!=0&&(y.style.opacity=c.toFixed(2))}}function i(e,t,n,s,a){E=!1;0===e&&0===t?q?(b.classList.remove("no-transition"),v.classList.remove("no-transition")):(v.classList.remove("menu--background-visible"),v.classList.remove("no-transition")):q?n<-_/2||Math.abs(n)/a>.3?(r(n),q=!1):(c(),q=!0):n>_/2||Math.abs(n)/a>.3?(c(),q=!0):(r(n),q=!1),v.classList.remove("no-transition"),b.classList.remove("no-transition"),y.classList.remove("no-transition"),v.classList.add("menu--animatable")}function o(){if(E){var e=document.querySelector(".app-menu-container");e.style.transform="translateX("+T+"px)",e.style.webkitTransform="translateX("+T+"px)",requestAnimationFrame(o)}}function r(e){function t(){y.style.opacity="",y.style.display="",v.classList.remove("menu--background-visible"),v.classList.remove("menu--animatable"),v.removeEventListener("transitionend",t,!1)}(e<0||!q)&&(b.style.transform="",b.style.webkitTransform="",v.classList.remove("menu--background-visible"),v.classList.remove("menu--visible"),v.addEventListener("transitionend",t,!1));var n=document.body.classList;n.contains("js_show_contentoverlay")&&n.remove("js_show_contentoverlay"),n.contains("overlay_mah")&&n.remove("overlay_mah"),n.contains("overlay_gs")&&n.remove("overlay_gs"),n.contains("overlay_both")&&n.remove("overlay_both"),n.contains("overlay")&&n.remove("overlay")}function c(){b.style.transform="",b.style.webkitTransform="",v.classList.add("menu--visible"),v.classList.add("menu--background-visible"),y.style.opacity=""}function l(){function e(){v.classList.remove("menu--background-visible"),v.classList.remove("menu--animatable"),y.style.display="",v.removeEventListener("transitionend",e)}v.addEventListener("transitionend",e,!1),v.classList.remove("menu--visible")}function u(e){e.preventDefault(),v.classList.add("menu--background-visible"),requestAnimationFrame(function(){setTimeout(function(){v.classList.add("menu--visible"),v.classList.add("menu--animatable")},1)})}var m,d,v=document.querySelector(".mobile-menu"),b=document.querySelector(".app-menu-container"),y=document.querySelector(".menu-background"),L=document.querySelectorAll(".menu-toggle"),f=!1,p=0,h=0,g=0,k=0,q=!1,E=!1,_=0,w=0,S=0,T=0,D="",F=.5,M=function(){m.addEventListener("touchstart",e,!1),m.addEventListener("touchmove",t,!1),m.addEventListener("touchend",n,!1),y.addEventListener("click",l,!1),L.forEach(function(e){e.addEventListener("click",u,!1)})};!function(e,t,n,s){m=e,d=(new Date).getTime(),M()}(document.querySelector(".app-menu-container"))});