"use strict";document.addEventListener("DOMContentLoaded",function(){var e,s,t,o=document.querySelector(".mobile-menu"),i=document.querySelector(".app-menu-container"),c=document.querySelector(".menu-background"),n=document.querySelectorAll(".menu-toggle"),a=!1,r=0,l=0,u=0,m=0,d=!1,v=!1,b=0,y=0,f=0,L="",g=.5,p=function(){e.addEventListener("touchstart",h,!1),e.addEventListener("touchmove",k,!1),e.addEventListener("touchend",q,!1),c.addEventListener("click",S,!1),n.forEach(function(e){e.addEventListener("click",D,!1)})};function h(e){s=(new Date).getTime(),r=e.touches[0].pageX,l=e.touches[0].pageY,a=!0,function(e,t){d=null!==document.querySelector(".mobile-menu.menu--visible");o.classList.add("no-transition"),i.classList.add("no-transition"),v=!0,b=document.querySelector(".app-menu").offsetWidth,y=e,t,f=d?0:-b;L="",o.classList.add("menu--background-visible")}(r,l)}function k(e){a&&(u=e.touches[0].pageX,m=e.touches[0].pageY,function(e,t,n,s,a){L||(L=Math.abs(s)>=Math.abs(a)?"horizontal":"vertical",requestAnimationFrame(E));if("vertical"===L)y=t,n;else{e.preventDefault(),f+(t-y)<0&&-b<f+(t-y)&&(f+=t-y),y=t,n,c.classList.add("no-transition");var o=100*Math.abs(f)/b,i=100-o,r=g*i/100;c.style.opacity!==r.toFixed(2)&&r.toFixed(1)%1!=0&&(c.style.opacity=r.toFixed(2))}}(e,u,m,u-r,m-l))}function q(e){if(a){a=!1;var t=u-r,n=(new Date).getTime()-s;!function(e,t,n,s,a){v=!1;0===e&&0===t?(d?i.classList.remove("no-transition"):o.classList.remove("menu--background-visible"),o.classList.remove("no-transition")):d=d?n<-b/2||.3<Math.abs(n)/a?(_(n),!1):(w(),!0):b/2<n||.3<Math.abs(n)/a?(w(),!0):(_(n),!1);o.classList.remove("no-transition"),i.classList.remove("no-transition"),c.classList.remove("no-transition"),o.classList.add("menu--animatable")}(u,m,t,0,n)}}function E(){if(v){var e=document.querySelector(".app-menu-container");e.style.transform="translateX("+f+"px)",e.style.webkitTransform="translateX("+f+"px)",requestAnimationFrame(E)}}function _(e){(e<0||!d)&&(i.style.transform="",i.style.webkitTransform="",o.classList.remove("menu--background-visible"),o.classList.remove("menu--visible"),o.addEventListener("transitionend",function e(){c.style.opacity="",c.style.display="",o.classList.remove("menu--background-visible"),o.classList.remove("menu--animatable"),o.removeEventListener("transitionend",e,!1)},!1));var t=document.body.classList;t.contains("js_show_contentoverlay")&&t.remove("js_show_contentoverlay"),t.contains("overlay_mah")&&t.remove("overlay_mah"),t.contains("overlay_gs")&&t.remove("overlay_gs"),t.contains("overlay_both")&&t.remove("overlay_both"),t.contains("overlay")&&t.remove("overlay")}function w(){i.style.transform="",i.style.webkitTransform="",o.classList.add("menu--visible"),o.classList.add("menu--background-visible"),c.style.opacity=""}function S(){o.addEventListener("transitionend",function e(){o.classList.remove("menu--background-visible"),o.classList.remove("menu--animatable"),c.style.display="",o.removeEventListener("transitionend",e)},!1),o.classList.remove("menu--visible")}function D(e){e.preventDefault(),o.classList.add("menu--background-visible"),requestAnimationFrame(function(){setTimeout(function(){o.classList.add("menu--visible"),o.classList.add("menu--animatable")},1)})}t=document.querySelector(".app-menu-container"),e=t,s=(new Date).getTime(),p()}),$(function(){var e=$(".mobile-menu");$(".submenu-toggle",e).on("click",function(e){e.preventDefault(),$(this).toggleClass("open").next("ul.subnav").toggleClass("open")})});